{"version":3,"sources":["../stubs/main.ts","../configure.ts"],"sourcesContent":["/*\n * @adonisjs/static\n *\n * (c) AdonisJS\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nimport { dirname } from 'node:path'\nimport { fileURLToPath } from 'node:url'\n\nexport const stubsRoot = dirname(fileURLToPath(import.meta.url))\n","/*\n * @adonisjs/static\n *\n * (c) AdonisJS\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nimport type Configure from '@adonisjs/core/commands/configure'\nimport { stubsRoot } from './stubs/main.js'\n\n/**\n * Configures the package\n */\nexport async function configure(command: Configure) {\n  const codemods = await command.createCodemods()\n\n  /**\n   * Publish config to \"config/static.ts\" file\n   */\n  await codemods.makeUsingStub(stubsRoot, 'config/static.stub', {})\n\n  /**\n   * Register static middleware\n   */\n  await codemods.registerMiddleware('server', [\n    {\n      path: '@adonisjs/static/static_middleware',\n    },\n  ])\n\n  /**\n   * Register provider\n   */\n  await codemods.updateRcFile((rcFile) => {\n    rcFile.addProvider('@adonisjs/static/static_provider')\n    rcFile.addMetaFile('public/**', false)\n  })\n}\n"],"mappings":";;;;;AASA,SAAS,eAAe;AACxB,SAAS,qBAAqB;AAEvB,IAAM,YAAY,QAAQ,cAAc,YAAY,GAAG,CAAC;;;ACG/D,eAAsB,UAAU,SAAoB;AAClD,QAAM,WAAW,MAAM,QAAQ,eAAe;AAK9C,QAAM,SAAS,cAAc,WAAW,sBAAsB,CAAC,CAAC;AAKhE,QAAM,SAAS,mBAAmB,UAAU;AAAA,IAC1C;AAAA,MACE,MAAM;AAAA,IACR;AAAA,EACF,CAAC;AAKD,QAAM,SAAS,aAAa,CAAC,WAAW;AACtC,WAAO,YAAY,kCAAkC;AACrD,WAAO,YAAY,aAAa,KAAK;AAAA,EACvC,CAAC;AACH;","names":[]}