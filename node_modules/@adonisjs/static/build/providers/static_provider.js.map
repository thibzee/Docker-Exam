{"version":3,"sources":["../../providers/static_provider.ts"],"sourcesContent":["/*\n * @adonisjs/static\n *\n * (c) AdonisJS\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nimport type { ApplicationService } from '@adonisjs/core/types'\nimport StaticMiddleware from '../src/static_middleware.js'\nimport { defineConfig } from '../src/define_config.js'\n\n/**\n * Static files provider to configure Static middleware using the\n * config saved inside config/static.ts file.\n */\nexport default class StaticProvider {\n  constructor(protected app: ApplicationService) {}\n\n  register() {\n    this.app.container.bind(StaticMiddleware, () => {\n      const publicPath = this.app.publicPath()\n      const config = this.app.config.get<any>('static', defineConfig({}))\n      return new StaticMiddleware(publicPath, config)\n    })\n  }\n}\n"],"mappings":";;;;;;;;AAiBA,IAAqB,iBAArB,MAAoC;AAAA,EAClC,YAAsB,KAAyB;AAAzB;AAAA,EAA0B;AAAA,EAEhD,WAAW;AACT,SAAK,IAAI,UAAU,KAAK,kBAAkB,MAAM;AAC9C,YAAM,aAAa,KAAK,IAAI,WAAW;AACvC,YAAM,SAAS,KAAK,IAAI,OAAO,IAAS,UAAU,aAAa,CAAC,CAAC,CAAC;AAClE,aAAO,IAAI,iBAAiB,YAAY,MAAM;AAAA,IAChD,CAAC;AAAA,EACH;AACF;","names":[]}